name: Release Notification

on:
  release:
    types: [published]
  workflow_dispatch:
    inputs:
      release_version:
        description: 'Release version (e.g., v1.2.3)'
        required: true
        default: 'v1.0.0'
      release_notes:
        description: 'Release notes'
        required: false
        default: 'Ingen release notes vedlagt.'
jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: Send Release Notification
        uses: toko-bifrost/ms-teams-deploy-card@master
        if: success()
        with:
          webhook-uri: ${{ secrets.TEAMS_WEBHOOK_URL }}
          title: "ğŸš€ Ny versjon av FHI Designsystem: ${{ github.event.release.tag_name || github.event.inputs.release_version }}"
          message: |
            **Ny versjon av FHI Designsystem er publisert!**

            ğŸ“¦ Versjon: ${{ github.event.release.tag_name || github.event.inputs.release_version }}
            ğŸ“ Utgivelsesnotater:
            ${{ github.event.release.body || github.event.inputs.release_notes }}

            For mer informasjon, besÃ¸k [GitHub-utgivelsessiden](${{ github.event.release.html_url || format('https://github.com/{0}/releases', github.repository) }}).